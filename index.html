<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="PRAGMA" content="NO-CACHE" />
		<meta http-equiv="EXPIRES" content="0" />
		<meta http-equiv="CACHE-CONTROL" content="NO-CACHE" />
		<title>WebAR Sample</title>

		<!-- import aframe and then ar.js with image tracking / location based features -->
		<script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
		<!-- 互動操作 -->
		<script src="gesture-detector.js"></script>
		<script src="gesture-handler.js"></script>

		<script>
			window.onload = function () {
				document
					.querySelector(".info-button")
					.addEventListener("click", function () {
						// here you can change also a-scene or a-entity properties, like
						// changing your 3D model source, size, position and so on
						// or you can just open links, trigger actions...
						alert("AR.js - The Hollow Knight Model")
					})
			}
		</script>
		<!-- style for the loader -->
		<link rel="stylesheet" href="index.css" />
	</head>
	<body>
		<!-- minimal loader shown until image descriptors are loaded -->
		<div class="arjs-loader">
			<div>Loading, please wait...</div>
		</div>
		<div class="buttons">
			<button class="info-button">Info</button>
		</div>
		<a-scene
			vr-mode-ui="enabled: false;"
			renderer="logarithmicDepthBuffer: true;"
			embedded
			arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;"
			gesture-detector
			id="scene"
		>
			<!-- we use cors proxy to avoid cross-origin problems -->
			<a-nft
				type="nft"
				url="https://cors-anywhere.herokuapp.com/https://raw.githack.com/evilz0212/ex-ar-webar/master/public/assets/vessel"
				smooth="true"
				smoothCount="10"
				smoothTolerance="0.01"
				smoothThreshold="2"
				raycaster="objects: .clickable"
				emitevents="true"
				cursor="fuse: false; rayOrigin: mouse;"
			>
				<!-- 輪廓燈：白 -->
				<a-entity
					light="type: point; color: #FFFFFF; intensity: 0.7"
					position="400 800 100"
					rotation="120 120 0"
				></a-entity>
				<!-- 氣氛燈：藍 -->
				<a-entity
					light="type: point; color: #3F4BFF; intensity: 0.6"
					position="400 900 50"
					rotation="150 90 0"
				></a-entity>
				<!-- 氣氛燈：紅 -->
				<a-entity
					light="type: point; color: #FF879E; intensity: 0.6"
					position="0 -900 200"
					rotation="320 -30 0"
				></a-entity>

				<a-entity
					gltf-model="https://cors-anywhere.herokuapp.com/https://rawcdn.githack.com/evilz0212/ex-ar-webar/dd30372198d6d1af71360723762df0713dc1f1ce/public/model/vessel.glb"
					scale="50 50 50"
					position="450 -800 100"
					rotation="0 0 0"
					class="clickable"
					gesture-handler
				></a-entity>
			</a-nft>
			<a-entity camera></a-entity>
		</a-scene>
	</body>
</html>
